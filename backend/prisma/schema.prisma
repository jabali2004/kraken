generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       String @id @default(uuid())
  email    String @unique
  username String @unique

  name String?

  createdAt DateTime?
  updatedAt DateTime?
}

model Application {
  id String @id @default(uuid())

  name String @unique

  metadata  Metadata[]
  dependsOn Dependency[]

  createdAt DateTime?
  updatedAt DateTime?
}

model Dependency {
  id String @id @default(uuid())

  application   Application @relation(fields: [applicationId], references: [id])
  applicationId String
}

model Metadata {
  id String @id @default(uuid())

  name  String
  value String?

  application   Application @relation(fields: [applicationId], references: [id])
  applicationId String

  createdAt DateTime?
  updatedAt DateTime?
}
